<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<script src="./tabulator/dist/js/tabulator.js"></script>
	<script type="text/javascript" src="rvnxSkins.js"></script>
	<link href="./main.css" rel="stylesheet" async>
	<title>rvnxSkins - brrrrt moneyzz</title>
</head>

<body> 
	<div class="home">
		<div class="centr">
			<div class="box">
				<h2>rvnxSkins</h2>
			</div>
			<div class="box">
			</div>
			<div class="box">
				Take a look at rvnxMango's investments in CSGO skins.
				<br/>
				Updated every 12 hours!
			</div>
			<div class="box">
				<iframe width="400" height="225" src="https://www.youtube.com/embed/XpjXDXll6Rc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
			</div>
			<div class="box">
				<iframe width="400" height="225" src="https://www.youtube.com/embed/gOJRNFGzdiI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
			</div>
			<div class="box">
				Soon Coming:
				<div class="box">
					Skinbaron Prices
				</div>
				<div class="box">
					Buff 163 Prices
				</div>
				<div class="box">
                    Steam Market Prices
				</div>
				<div class="box">
					Update Progress Bar
				</div>
			</div>
			<div class="box">
			</div>
			<div class="box">
				Code by <a href="https://linktr.ee/janmuesli" target="_blank" rel="noopener">Jan Müsli</a>. 
				Prices by <a href="https://skinport.com/" target="_blank" rel="noopener">Skinport</a>. 
				<br/>
				<br/>
				rvnxSkins is not affiliated with rvnxMango.
			</div>
		</div>
		
		<div class="centr">
			<div class="box"><div id="skins-table"></div></div>
		</div>	
	</div>
	
	
</body>

<script async>
	var tabledata = [];
	var allSkins = JSON.parse(allSkins);
	for(var i = 0; i <= 15; i++) {
		tupel={};
		if (allSkins[i]["count"] > 1) {
			tupel.name=allSkins[i]["count"]+"x <a href='" + allSkins[i]["link"] + "' target='_blank'>" + allSkins[i]["name"] + "</a>";
		} else {
			tupel.name="<a href='" + allSkins[i]["link.sp"] + "' target='_blank'>" + allSkins[i]["name"] + "</a>";
		} 
		tupel.invest=allSkins[i]["invest"]*allSkins[i]["count"];
		tupel.min_price_sp=allSkins[i]["min_price.sp"]*allSkins[i]["count"];
		tupel.suggested_price_sp=allSkins[i]["suggested_price.sp"]*allSkins[i]["count"];
		//tupel.reward=(allSkins[i]["suggested_price.sp"]*allSkins[i]["count"]+allSkins[i]["min_price.sp"]*allSkins[i]["count"]+allSkins[i]["min_price.sb"]*allSkins[i]["count"])/3-allSkins[i]["invest"]*allSkins[i]["count"];
		tupel.reward=allSkins[i]["suggested_price.sp"]*allSkins[i]["count"]-allSkins[i]["invest"]*allSkins[i]["count"];
		tupel.percent=(tupel.reward/(allSkins[i]["invest"]*allSkins[i]["count"]))*100-100;
		tupel.min_price_sb=allSkins[i]["min_price.sb"]*allSkins[i]["count"];

		tupel.invest=tupel.invest.toFixed(2);
		tupel.percent=tupel.percent.toFixed(2);
		tupel.min_price_sp=tupel.min_price_sp.toFixed(2);
		if (tupel.min_price_sp < tupel.invest) {
			tupel.min_price_sp="<div class='minus'>"+tupel.min_price_sp+"</div>";
		} else if ( tupel.min_price_sp > tupel.invest ) {
			tupel.min_price_sp="<div class='plus'>"+tupel.min_price_sp+"</div>";
		}
		tupel.suggested_price_sp=tupel.suggested_price_sp.toFixed(2);
		if (tupel.suggested_price_sp < tupel.invest) {
			tupel.suggested_price_sp="<div class='minus'>"+tupel.suggested_price_sp+"</div>";
		} else if ( tupel.suggested_price_sp > tupel.invest ) {
			tupel.suggested_price_sp="<div class='plus'>"+tupel.suggested_price_sp+"</div>";
		}
		tupel.reward=tupel.reward.toFixed(2);
		if (tupel.reward < tupel.invest) {
			tupel.reward="<div class='minus'>"+tupel.reward+"</div>";
		} else if ( tupel.reward > tupel.invest ) {
			tupel.reward="<div class='plus'>"+tupel.reward+"</div>";
		}
		tupel.min_price_sb=tupel.min_price_sb.toFixed(2);
		if (tupel.min_price_sb < tupel.invest) {
			tupel.min_price_sb="<div class='minus'>"+tupel.min_price_sb+"</div>";
		} else if ( tupel.min_price_sb > tupel.invest ) {
			tupel.min_price_sb="<div class='plus'>"+tupel.min_price_sb+"</div>";
		}
		
		tabledata.push(tupel);
	}
	

	//initialize table
	var table = new Tabulator("#skins-table", {
		data:tabledata, //assign data to table
		columns:[
		{title:"Name", field:"name", resizable:true, hozAlign:"right", formatter:function(cell, formatterParams){
                        var value = cell.getValue();
                        return value;
                } },
		{title:"Invested (in €)", field:"invest", resizable:true, hozAlign:"right", bottomCalc:"sum"},
		{
			title:"<a href='https://skinport.com/'>SkinPort</a>: Prices in €",
			columns:[
				{title:"Minimum", field:"min_price_sp", resizable:true, hozAlign:"right" },
				{title:"Suggested", field:"suggested_price_sp", resizable:true, hozAlign:"right" },
			],
		},
		
		{
			title:"<a href='https://skinbaron.de/'>SkinBaron</a>: Prices in €",
			columns:[
				{title:"Minimum", field:"min_price_sb", resizable:true, hozAlign:"right" },
			],
		},
		
		{title:"Reward (in €)", field:"reward", resizable:true, hozAlign:"right", bottomCalc:"sum"},
		{title:"in %", field:"percent", resizable:true, hozAlign:"right" },
		],
		layout:"fitDataTable",
		layoutColumnsOnNewData:true,
	});
</script>
	

</html>
